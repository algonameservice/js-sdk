{"version":3,"sources":["../node_modules/tsup/assets/cjs_shims.js","../src/constants.js","../src/errors.js","../src/validation.ts"],"sourcesContent":["// Shim globals in cjs bundle\n// There's a weird bug that esbuild will always inject importMetaUrl\n// if we export it as `const importMetaUrl = ... __filename ...`\n// But using a function will not cause this issue\n\nconst getImportMetaUrl = () =>\n  typeof document === 'undefined'\n    ? new URL('file:' + __filename).href\n    : (document.currentScript && document.currentScript.src) ||\n      new URL('main.js', document.baseURI).href\n\nexport const importMetaUrl = /* @__PURE__ */ getImportMetaUrl()\n","\"use strict\";\nexports.__esModule = true;\nexports.APP_ID = 628095415;\nexports.REGISTRATION_PRICE = {\n  CHAR_3_AMOUNT: 150000000,\n  CHAR_4_AMOUNT: 50000000,\n  CHAR_5_AMOUNT: 5000000,\n};\nexports.TRANSFER_FEE = 2000000;\nexports.IPFS_LINK = \"https://ipfs.infura.io/ipfs/\";\nexports.ASCII_CODES = {\n  ASCII_A: 97,\n  ASCII_Z: 122,\n  ASCII_0: 48,\n  ASCII_9: 57,\n};\nexports.ALLOWED_SOCIALS = [\n  \"github\",\n  \"twitter\",\n  \"telegram\",\n  \"youtube\",\n  \"reddit\",\n  \"discord\",\n];\nexports.ALLOWED_TLDS = [\"algo\"];\n","\"use strict\";\nvar __extends =\n  (this && this.__extends) ||\n  (function () {\n    var extendStatics = function (d, b) {\n      extendStatics =\n        Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &&\n          function (d, b) {\n            d.__proto__ = b;\n          }) ||\n        function (d, b) {\n          for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n        };\n      return extendStatics(d, b);\n    };\n    return function (d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype =\n        b === null\n          ? Object.create(b)\n          : ((__.prototype = b.prototype), new __());\n    };\n  })();\nexports.__esModule = true;\nvar AddressValidationError = /** @class */ (function (_super) {\n  __extends(AddressValidationError, _super);\n  function AddressValidationError() {\n    var _this =\n      _super.call(this, \"This is not a valid Algorand address\") || this;\n    _this.name = \"InvalidAddressError\";\n    _this.type = \"InvalidAddressError\";\n    return _this;\n  }\n  return AddressValidationError;\n})(Error);\nexports.AddressValidationError = AddressValidationError;\nvar InvalidNameError = /** @class */ (function (_super) {\n  __extends(InvalidNameError, _super);\n  function InvalidNameError() {\n    var _this =\n      _super.call(\n        this,\n        \"The name must be between 3 and 64 characters and must only contain a-z and 0-9 characters\"\n      ) || this;\n    _this.name = \"InvalidNameError\";\n    _this.type = \"InvalidNameError\";\n    return _this;\n  }\n  return InvalidNameError;\n})(Error);\nexports.InvalidNameError = InvalidNameError;\nvar NameNotRegisteredError = /** @class */ (function (_super) {\n  __extends(NameNotRegisteredError, _super);\n  function NameNotRegisteredError(name) {\n    var _this =\n      _super.call(this, \"Name \" + name + \".algo is not registered\") || this;\n    _this.name = \"NameNotRegisteredError\";\n    _this.type = \"NameNotRegisteredError\";\n    return _this;\n  }\n  return NameNotRegisteredError;\n})(Error);\nexports.NameNotRegisteredError = NameNotRegisteredError;\nvar IncorrectOwnerError = /** @class */ (function (_super) {\n  __extends(IncorrectOwnerError, _super);\n  function IncorrectOwnerError(name, address) {\n    var _this =\n      _super.call(this, \"Name \" + name + \".algo is not owned by \" + address) ||\n      this;\n    _this.name = \"IncorrectOwnerError\";\n    _this.type = \"IncorrectOwnerError\";\n    return _this;\n  }\n  return IncorrectOwnerError;\n})(Error);\nexports.IncorrectOwnerError = IncorrectOwnerError;\n","import algosdk from \"algosdk\";\nimport { ALLOWED_TLDS, ASCII_CODES } from \"./constants.js\";\nimport { InvalidNameError } from \"./errors.js\";\n\nexport function isValidAddress(address: string): boolean {\n  return algosdk.isValidAddress(address);\n}\n\nexport function normalizeName(name: string): string {\n  const tld: string = name.split(\".\").pop() as string;\n  if (ALLOWED_TLDS.includes(tld)) {\n    name = name.split(\".\")[0].toLowerCase();\n  } else {\n    throw new Error(\"TLD not supported\");\n  }\n  const lengthOfName = name.length;\n  if (lengthOfName > 64) {\n    throw new InvalidNameError();\n  }\n  for (let i = 0; i < lengthOfName; i++) {\n    if (\n      !(\n        name.charCodeAt(i) >= ASCII_CODES.ASCII_0 &&\n        name.charCodeAt(i) <= ASCII_CODES.ASCII_9\n      )\n    ) {\n      if (\n        !(\n          name.charCodeAt(i) >= ASCII_CODES.ASCII_A &&\n          name.charCodeAt(i) <= ASCII_CODES.ASCII_Z\n        )\n      )\n        throw new InvalidNameError();\n    }\n  }\n  return name;\n}\n"],"mappings":"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","names":[]}