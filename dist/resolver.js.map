{"version":3,"sources":["../node_modules/tsup/assets/cjs_shims.js","../src/constants.js","../src/errors.js","../src/util.js","../src/cachedApi.js","../src/resolver.ts"],"sourcesContent":["// Shim globals in cjs bundle\n// There's a weird bug that esbuild will always inject importMetaUrl\n// if we export it as `const importMetaUrl = ... __filename ...`\n// But using a function will not cause this issue\n\nconst getImportMetaUrl = () =>\n  typeof document === 'undefined'\n    ? new URL('file:' + __filename).href\n    : (document.currentScript && document.currentScript.src) ||\n      new URL('main.js', document.baseURI).href\n\nexport const importMetaUrl = /* @__PURE__ */ getImportMetaUrl()\n","\"use strict\";\nexports.__esModule = true;\nexports.APP_ID = 628095415;\nexports.REGISTRATION_PRICE = {\n  CHAR_3_AMOUNT: 150000000,\n  CHAR_4_AMOUNT: 50000000,\n  CHAR_5_AMOUNT: 5000000,\n};\nexports.TRANSFER_FEE = 2000000;\nexports.IPFS_LINK = \"https://ipfs.infura.io/ipfs/\";\nexports.ASCII_CODES = {\n  ASCII_A: 97,\n  ASCII_Z: 122,\n  ASCII_0: 48,\n  ASCII_9: 57,\n};\nexports.ALLOWED_SOCIALS = [\n  \"github\",\n  \"twitter\",\n  \"telegram\",\n  \"youtube\",\n  \"reddit\",\n  \"discord\",\n];\nexports.ALLOWED_TLDS = [\"algo\"];\n","\"use strict\";\nvar __extends =\n  (this && this.__extends) ||\n  (function () {\n    var extendStatics = function (d, b) {\n      extendStatics =\n        Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &&\n          function (d, b) {\n            d.__proto__ = b;\n          }) ||\n        function (d, b) {\n          for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n        };\n      return extendStatics(d, b);\n    };\n    return function (d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype =\n        b === null\n          ? Object.create(b)\n          : ((__.prototype = b.prototype), new __());\n    };\n  })();\nexports.__esModule = true;\nvar AddressValidationError = /** @class */ (function (_super) {\n  __extends(AddressValidationError, _super);\n  function AddressValidationError() {\n    var _this =\n      _super.call(this, \"This is not a valid Algorand address\") || this;\n    _this.name = \"InvalidAddressError\";\n    _this.type = \"InvalidAddressError\";\n    return _this;\n  }\n  return AddressValidationError;\n})(Error);\nexports.AddressValidationError = AddressValidationError;\nvar InvalidNameError = /** @class */ (function (_super) {\n  __extends(InvalidNameError, _super);\n  function InvalidNameError() {\n    var _this =\n      _super.call(\n        this,\n        \"The name must be between 3 and 64 characters and must only contain a-z and 0-9 characters\"\n      ) || this;\n    _this.name = \"InvalidNameError\";\n    _this.type = \"InvalidNameError\";\n    return _this;\n  }\n  return InvalidNameError;\n})(Error);\nexports.InvalidNameError = InvalidNameError;\nvar NameNotRegisteredError = /** @class */ (function (_super) {\n  __extends(NameNotRegisteredError, _super);\n  function NameNotRegisteredError(name) {\n    var _this =\n      _super.call(this, \"Name \" + name + \".algo is not registered\") || this;\n    _this.name = \"NameNotRegisteredError\";\n    _this.type = \"NameNotRegisteredError\";\n    return _this;\n  }\n  return NameNotRegisteredError;\n})(Error);\nexports.NameNotRegisteredError = NameNotRegisteredError;\nvar IncorrectOwnerError = /** @class */ (function (_super) {\n  __extends(IncorrectOwnerError, _super);\n  function IncorrectOwnerError(name, address) {\n    var _this =\n      _super.call(this, \"Name \" + name + \".algo is not owned by \" + address) ||\n      this;\n    _this.name = \"IncorrectOwnerError\";\n    _this.type = \"IncorrectOwnerError\";\n    return _this;\n  }\n  return IncorrectOwnerError;\n})(Error);\nexports.IncorrectOwnerError = IncorrectOwnerError;\n","\"use strict\";\nexports.__esModule = true;\nfunction generateTeal(name) {\n  return (\n    '#pragma version 4\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 3\\n    ==\\n    bnz main_l22\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 4\\n    ==\\n    bnz main_l13\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 5\\n    >=\\n    bnz main_l4\\n    err\\n    main_l4:\\n    gtxn 0 Amount\\n    int 5000000\\n    >=\\n    assert\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l5:\\n    load 0\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    <\\n    bnz main_l12\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l11\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l10\\n    int 0\\n    return\\n    main_l9:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l10:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l9\\n    main_l11:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l9\\n    main_l12:\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l5\\n    main_l13:\\n    gtxn 0 Amount\\n    int 50000000\\n    >=\\n    assert\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l14:\\n    load 0\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    <\\n    bnz main_l21\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l20\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l19\\n    int 0\\n    return\\n    main_l18:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l19:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l18\\n    main_l20:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l18\\n    main_l21:\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l14\\n    main_l22:\\n    gtxn 0 Amount\\n    int 150000000\\n    >=\\n    assert\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l23:\\n    load 0\\n    byte \"' +\n    name +\n    '\"\\n    len\\n    <\\n    bnz main_l30\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l29\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l28\\n    int 0\\n    return\\n    main_l27:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l28:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l27\\n    main_l29:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \"register_name\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \"' +\n    name +\n    '\"\\n    ==\\n    &&\\n    assert\\n    b main_l27\\n    main_l30:\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \"' +\n    name +\n    '\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l23\\n    main_l31:\\n    return'\n  );\n}\nexports.generateTeal = generateTeal;\nfunction b64toString(data) {\n  return Buffer.from(data, \"base64\").toString();\n}\nexports.b64toString = b64toString;\nfunction toIntArray(data) {\n  return new Uint8Array(Buffer.from(data));\n}\nexports.toIntArray = toIntArray;\n","\"use strict\";\nvar __awaiter =\n  (this && this.__awaiter) ||\n  function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P\n        ? value\n        : new P(function (resolve) {\n            resolve(value);\n          });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done\n          ? resolve(result.value)\n          : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\nvar __generator =\n  (this && this.__generator) ||\n  function (thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function () {\n          if (t[0] & 1) throw t[1];\n          return t[1];\n        },\n        trys: [],\n        ops: [],\n      },\n      f,\n      y,\n      t,\n      g;\n    return (\n      (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n      typeof Symbol === \"function\" &&\n        (g[Symbol.iterator] = function () {\n          return this;\n        }),\n      g\n    );\n    function verb(n) {\n      return function (v) {\n        return step([n, v]);\n      };\n    }\n    function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (_)\n        try {\n          if (\n            ((f = 1),\n            y &&\n              (t =\n                op[0] & 2\n                  ? y[\"return\"]\n                  : op[0]\n                  ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                  : y.next) &&\n              !(t = t.call(y, op[1])).done)\n          )\n            return t;\n          if (((y = 0), t)) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n            case 4:\n              _.label++;\n              return { value: op[1], done: false };\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n            case 7:\n              op = _.ops.pop();\n              _.trys.pop();\n              continue;\n            default:\n              if (\n                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                (op[0] === 6 || op[0] === 2)\n              ) {\n                _ = 0;\n                continue;\n              }\n              if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                _.label = op[1];\n                break;\n              }\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n                _.ops.push(op);\n                break;\n              }\n              if (t[2]) _.ops.pop();\n              _.trys.pop();\n              continue;\n          }\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n      if (op[0] & 5) throw op[1];\n      return { value: op[0] ? op[1] : void 0, done: true };\n    }\n  };\nexports.__esModule = true;\nvar algosdk_1 = require(\"algosdk\");\nvar util_js_1 = require(\"./util.js\");\nvar CachedApi = /** @class */ (function () {\n  function CachedApi(client, indexer) {\n    this.cache = {};\n    this.rpc = client;\n    this.indexer = indexer;\n  }\n  CachedApi.prototype.getTeal = function (name) {\n    return __awaiter(this, void 0, void 0, function () {\n      var program;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (name in this.cache) {\n              return [2 /*return*/, this.cache[name]];\n            }\n            return [\n              4 /*yield*/,\n              this.rpc.compile(util_js_1.generateTeal(name))[\"do\"](),\n            ];\n          case 1:\n            program = _a.sent();\n            program = new Uint8Array(Buffer.from(program.result, \"base64\"));\n            this.cache[name] = new algosdk_1[\"default\"].LogicSigAccount(\n              program\n            );\n            return [2 /*return*/, this.cache[name]];\n        }\n      });\n    });\n  };\n  return CachedApi;\n})();\nexports[\"default\"] = CachedApi;\n","import algosdk, { Transaction } from \"algosdk\";\nimport { ALLOWED_SOCIALS, APP_ID } from \"./constants.js\";\nimport { AddressValidationError, NameNotRegisteredError } from \"./errors.js\";\nimport CachedApi from \"./cachedApi.js\";\nimport { Domain, NameResponse, Record } from \"./interfaces.js\";\nimport { b64toString } from \"./util.js\";\nimport { Name } from \"./name.js\";\n\ndeclare const Buffer: any;\n\nexport class Resolver extends CachedApi {\n  private name?: Name;\n  // @ts-ignore\n  private resolvedData?: Record<string, any>;\n\n  constructor(client: algosdk.Algodv2, indexer: algosdk.Indexer, name?: Name) {\n    super(client, indexer);\n    this.rpc = client;\n    this.indexer = indexer;\n    this.name = name;\n  }\n\n  async resolveName(name?: string): Promise<NameResponse> {\n    let found = false;\n    if (!name) {\n      name = this.name?.name;\n    }\n    const error: NameResponse = {\n      found: false,\n      socials: [],\n      metadata: [],\n      address: \"Not Registered\",\n    };\n\n    try {\n      if (!this.resolvedData || name !== this.name?.name) {\n        this.resolvedData = await this.indexer\n          .lookupAccountByID((await this.getTeal(name as string)).address())\n          .do();\n      }\n\n      let accountInfo = this.resolvedData;\n\n      accountInfo = accountInfo.account[\"apps-local-state\"];\n      const length = accountInfo.length;\n      let address;\n\n      let socials: Record[] = [],\n        metadata: Record[] = [];\n      for (let i = 0; i < length; i++) {\n        const app = accountInfo[i];\n\n        if (app.id === APP_ID) {\n          const kv = app[\"key-value\"];\n          const decodedKvPairs = this.decodeKvPairs(kv);\n          socials = this.filterKvPairs(decodedKvPairs, \"socials\");\n          metadata = this.filterKvPairs(decodedKvPairs, \"metadata\");\n          found = true;\n          address = metadata.filter((kv: Record) => kv.key === \"owner\")[0]\n            .value;\n        }\n      }\n\n      if (found) {\n        return {\n          found,\n          address,\n          socials,\n          metadata,\n        };\n      }\n\n      return error;\n    } catch (err) {\n      return error;\n    }\n  }\n\n  async getNamesOwnedByAddress(\n    address: string,\n    socials = false,\n    metadata = false,\n    limit = 10\n  ): Promise<Domain[]> {\n    if (!(await algosdk.isValidAddress(address))) {\n      throw new AddressValidationError();\n    }\n\n    let nextToken = \"\";\n    let txnLength = 1;\n    let txns = [];\n    while (txnLength > 0) {\n      try {\n        const info = await this.indexer\n          .searchForTransactions()\n          .address(address)\n          .addressRole(\"sender\")\n          .afterTime(\"2022-02-24\")\n          .txType(\"appl\")\n          .applicationID(APP_ID)\n          .nextToken(nextToken)\n          .do();\n\n        txnLength = info.transactions.length;\n        if (txnLength > 0) {\n          nextToken = info[\"next-token\"];\n          txns.push(info.transactions);\n        }\n      } catch (err) {\n        return [];\n      }\n    }\n\n    let accountTxns: algosdk.Transaction[] = [];\n    for (let i = 0; i < txns.length; i++) {\n      accountTxns = accountTxns.concat(txns[i]);\n    }\n\n    txns = accountTxns;\n    const names: string[] = await this.filterDomainRegistrationTxns(txns);\n\n    if (names.length > 0) {\n      const details = [];\n\n      for (let i = 0; i < names.length; i++) {\n        if (details.length && details.length >= limit) {\n          break;\n        }\n        const info: NameResponse = await this.resolveName(names[i]);\n        if (info.found && info.address === address) {\n          const domain: Domain = {\n            address: \"\",\n            found: true,\n            name: \"\",\n          };\n          domain.name = names[i] + \".algo\";\n          domain.address = info.address;\n          if (socials) {\n            domain.socials = info.socials;\n          }\n          if (metadata) {\n            domain.metadata = info.metadata;\n          }\n          details.push(domain);\n          continue;\n        } else if (info.found === false) {\n          i--;\n        }\n      }\n      return details;\n    }\n\n    return [];\n  }\n\n  filterKvPairs(kvPairs: Record[], type: string): Record[] {\n    const socials: Record[] = [],\n      metadata: Record[] = [];\n\n    for (const i in kvPairs) {\n      const { key, value } = kvPairs[i];\n\n      const kvObj = {\n        key,\n        value,\n      };\n\n      if (ALLOWED_SOCIALS.includes(key)) {\n        socials.push(kvObj);\n        continue;\n      }\n      metadata.push(kvObj);\n    }\n    if (type === \"socials\") {\n      return socials;\n    }\n    if (type === \"metadata\") {\n      return metadata;\n    }\n\n    return [];\n  }\n\n  decodeKvPairs(kvPairs: Record[]): Record[] {\n    return kvPairs.map((kvPair) => {\n      const decodedKvPair: Record = {\n        key: \"\",\n        value: \"\",\n      };\n\n      let { key } = kvPair;\n      const { value } = kvPair;\n\n      key = Buffer.from(key, \"base64\").toString();\n      decodedKvPair.key = key;\n\n      if (key === \"owner\") {\n        decodedKvPair.value = algosdk.encodeAddress(\n          // @ts-ignore\n          new Uint8Array(Buffer.from(value.bytes, \"base64\"))\n        );\n        return decodedKvPair;\n      }\n\n      // @ts-ignore\n      if (value.type === 1) {\n        // @ts-ignore\n        decodedKvPair.value = Buffer.from(value.bytes, \"base64\").toString();\n      }\n\n      // @ts-ignore\n      if (value.type === 2) {\n        // @ts-ignore\n        decodedKvPair.value = value.uint;\n      }\n\n      return decodedKvPair;\n    });\n  }\n\n  async filterDomainRegistrationTxns(txns: Transaction[]): Promise<string[]> {\n    const names: string[] = [];\n    try {\n      for (let i = 0; i < txns.length; i++) {\n        const txn: Transaction = txns[i];\n        if (txn[\"tx-type\" as keyof Transaction] === \"appl\") {\n          // @ts-ignore\n          if (txn[\"application-transaction\"][\"application-id\"] === APP_ID) {\n            // @ts-ignore\n            const appArgs = txn[\"application-transaction\"][\"application-args\"];\n\n            if (\n              Buffer.from(appArgs[0], \"base64\").toString() === \"register_name\"\n            ) {\n              const decodedName = b64toString(appArgs[1]);\n              if (!names.includes(decodedName)) {\n                names.push(decodedName);\n              }\n            } else if (b64toString(appArgs[0]) === \"accept_transfer\") {\n              // @ts-ignore\n              const lsigAccount = txn[\"application-transaction\"][\"accounts\"][0];\n              let accountInfo = await this.indexer\n                .lookupAccountByID(lsigAccount)\n                .do();\n              accountInfo = accountInfo.account[\"apps-local-state\"];\n\n              const length = accountInfo.length;\n\n              for (let i = 0; i < length; i++) {\n                if (accountInfo[i].id === APP_ID) {\n                  const kvPairs = accountInfo[i][\"key-value\"];\n                  const domainInfo = this.decodeKvPairs(kvPairs).filter(\n                    (domain: Record) => domain.key === \"name\"\n                  );\n                  if (!names.includes(domainInfo[0].value)) {\n                    names.push(domainInfo[0].value);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    } catch (err) {\n      return [];\n    }\n\n    return names;\n  }\n\n  async owner(): Promise<string | NameNotRegisteredError> {\n    const domainInformation: NameResponse = await this.resolveName();\n    if (domainInformation.found) {\n      // @ts-ignore\n      return domainInformation.address;\n    }\n\n    // @ts-ignore\n    throw new NameNotRegisteredError(this.name.name);\n  }\n\n  async text(key: string): Promise<string | NameNotRegisteredError> {\n    const domainInformation: NameResponse = await this.resolveName();\n    if (domainInformation.found) {\n      const socialRecords: Record[] | undefined =\n        domainInformation.socials?.filter(\n          (social: Record) => social.key === key\n        );\n      if (socialRecords && socialRecords.length > 0) {\n        return socialRecords[0].value;\n      } else {\n        const metadataRecords = domainInformation.metadata?.filter(\n          (metadata: Record) => metadata.key === key\n        );\n        if (metadataRecords && metadataRecords.length > 0) {\n          return metadataRecords[0].value;\n        } else {\n          return \"Property not set\";\n        }\n      }\n    }\n\n    // @ts-ignore\n    throw new NameNotRegisteredError(this.name.name);\n  }\n\n  async expiry(): Promise<Date | NameNotRegisteredError> {\n    const domainInformation: NameResponse = await this.resolveName();\n    if (domainInformation.found) {\n      //Convert milliseconds to seconds by multiplying with 1000\n      return new Date(\n        parseInt(\n          domainInformation?.metadata!.filter(\n            (data: Record) => data.key === \"expiry\"\n          )[0].value\n        ) * 1000\n      );\n    }\n\n    // @ts-ignore\n    throw new NameNotRegisteredError(this.name.name);\n  }\n\n  async content(): Promise<string | NameNotRegisteredError> {\n    const domainInformation = await this.resolveName();\n    if (domainInformation.found) {\n      const contentRecords: Record[] = domainInformation?.metadata!.filter(\n        (kv: Record) => kv.key === \"content\"\n      );\n      if (contentRecords.length > 0) {\n        return contentRecords[0].value;\n      }\n      return \"Content field is not set\";\n    }\n\n    // @ts-ignore\n    throw new NameNotRegisteredError(this._name);\n  }\n}\n"],"mappings":"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","names":[]}