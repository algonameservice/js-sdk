{"version":3,"sources":["../node_modules/tsup/assets/cjs_shims.js","../src/constants.js","../src/util.js","../src/cachedApi.js","../src/transactions.ts"],"sourcesContent":["// Shim globals in cjs bundle\n// There's a weird bug that esbuild will always inject importMetaUrl\n// if we export it as `const importMetaUrl = ... __filename ...`\n// But using a function will not cause this issue\n\nconst getImportMetaUrl = () =>\n  typeof document === 'undefined'\n    ? new URL('file:' + __filename).href\n    : (document.currentScript && document.currentScript.src) ||\n      new URL('main.js', document.baseURI).href\n\nexport const importMetaUrl = /* @__PURE__ */ getImportMetaUrl()\n","\"use strict\";\nexports.__esModule = true;\nexports.APP_ID = 628095415;\nexports.REGISTRATION_PRICE = {\n    CHAR_3_AMOUNT: 150000000,\n    CHAR_4_AMOUNT: 50000000,\n    CHAR_5_AMOUNT: 5000000\n};\nexports.TRANSFER_FEE = 2000000;\nexports.IPFS_LINK = \"https://ipfs.infura.io/ipfs/\";\nexports.ASCII_CODES = {\n    ASCII_A: 97,\n    ASCII_Z: 122,\n    ASCII_0: 48,\n    ASCII_9: 57\n};\nexports.ALLOWED_SOCIALS = [\n    \"github\",\n    \"twitter\",\n    \"telegram\",\n    \"youtube\",\n    \"reddit\",\n    \"discord\",\n];\nexports.ALLOWED_TLDS = [\"algo\"];\n","\"use strict\";\nexports.__esModule = true;\nfunction generateTeal(name) {\n    return \"#pragma version 4\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 3\\n    ==\\n    bnz main_l22\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 4\\n    ==\\n    bnz main_l13\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 5\\n    >=\\n    bnz main_l4\\n    err\\n    main_l4:\\n    gtxn 0 Amount\\n    int 5000000\\n    >=\\n    assert\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l5:\\n    load 0\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    <\\n    bnz main_l12\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l11\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l10\\n    int 0\\n    return\\n    main_l9:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l10:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l9\\n    main_l11:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l9\\n    main_l12:\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l5\\n    main_l13:\\n    gtxn 0 Amount\\n    int 50000000\\n    >=\\n    assert\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l14:\\n    load 0\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    <\\n    bnz main_l21\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l20\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l19\\n    int 0\\n    return\\n    main_l18:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l19:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l18\\n    main_l20:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l18\\n    main_l21:\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l14\\n    main_l22:\\n    gtxn 0 Amount\\n    int 150000000\\n    >=\\n    assert\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    int 64\\n    <=\\n    assert\\n    int 0\\n    store 0\\n    main_l23:\\n    load 0\\n    byte \\\"\" + name + \"\\\"\\n    len\\n    <\\n    bnz main_l30\\n    global GroupSize\\n    int 2\\n    ==\\n    global GroupSize\\n    int 4\\n    ==\\n    ||\\n    assert\\n    gtxn 0 Sender\\n    gtxn 1 Sender\\n    ==\\n    assert\\n    gtxn 0 Receiver\\n    addr SYGCDTWGBXKV4ZL5YAWSYAVOUC25U2XDB6SMQHLRCTYVF566TQZ3EOABH4\\n    ==\\n    assert\\n    global GroupSize\\n    int 2\\n    ==\\n    bnz main_l29\\n    global GroupSize\\n    int 4\\n    ==\\n    bnz main_l28\\n    int 0\\n    return\\n    main_l27:\\n    int 1\\n    assert\\n    int 1\\n    b main_l31\\n    main_l28:\\n    gtxn 1 Receiver\\n    gtxn 2 Sender\\n    ==\\n    gtxn 2 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 2 OnCompletion\\n    int OptIn\\n    ==\\n    &&\\n    gtxn 3 ApplicationID\\n    int 628095415\\n    ==\\n    &&\\n    gtxn 3 Sender\\n    gtxn 0 Sender\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 3 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l27\\n    main_l29:\\n    gtxn 1 ApplicationID\\n    int 628095415\\n    ==\\n    gtxna 1 ApplicationArgs 0\\n    byte \\\"register_name\\\"\\n    ==\\n    &&\\n    gtxna 1 ApplicationArgs 1\\n    byte \\\"\" + name + \"\\\"\\n    ==\\n    &&\\n    assert\\n    b main_l27\\n    main_l30:\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 97\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 122\\n    <=\\n    &&\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 48\\n    >=\\n    byte \\\"\" + name + \"\\\"\\n    load 0\\n    getbyte\\n    int 57\\n    <=\\n    &&\\n    ||\\n    assert\\n    load 0\\n    int 1\\n    +\\n    store 0\\n    b main_l23\\n    main_l31:\\n    return\";\n}\nexports.generateTeal = generateTeal;\nfunction b64toString(data) {\n    return Buffer.from(data, \"base64\").toString();\n}\nexports.b64toString = b64toString;\nfunction toIntArray(data) {\n    return new Uint8Array(Buffer.from(data));\n}\nexports.toIntArray = toIntArray;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nvar algosdk_1 = require(\"algosdk\");\nvar util_js_1 = require(\"./util.js\");\nvar CachedApi = /** @class */ (function () {\n    function CachedApi(client, indexer) {\n        this.cache = {};\n        this.rpc = client;\n        this.indexer = indexer;\n    }\n    CachedApi.prototype.getTeal = function (name) {\n        return __awaiter(this, void 0, void 0, function () {\n            var program;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (name in this.cache) {\n                            return [2 /*return*/, this.cache[name]];\n                        }\n                        return [4 /*yield*/, this.rpc.compile(util_js_1.generateTeal(name))[\"do\"]()];\n                    case 1:\n                        program = _a.sent();\n                        program = new Uint8Array(Buffer.from(program.result, \"base64\"));\n                        this.cache[name] = new algosdk_1[\"default\"].LogicSigAccount(program);\n                        return [2 /*return*/, this.cache[name]];\n                }\n            });\n        });\n    };\n    return CachedApi;\n}());\nexports[\"default\"] = CachedApi;\n","import algosdk, {Transaction} from \"algosdk\";\nimport { APP_ID, REGISTRATION_PRICE, TRANSFER_FEE } from \"./constants.js\";\nimport CachedApi from \"./cachedApi.js\";\nimport { toIntArray } from \"./util.js\";\nimport { RegistrationTxns } from \"./interfaces.js\";\nimport { Record } from \"./interfaces.js\";\n\nexport class Transactions extends CachedApi {\n  private name: string;\n\n  constructor(client: algosdk.Algodv2, indexer: algosdk.Indexer, name: string) {\n    super(client, indexer);\n    this.name = name;\n  }\n\n  calculatePrice(period: number): number {\n    let amount = 0;\n    if (this.name.length === 3) {\n      amount = REGISTRATION_PRICE.CHAR_3_AMOUNT * period;\n    } else if (this.name.length === 4) {\n      amount = REGISTRATION_PRICE.CHAR_4_AMOUNT * period;\n    } else if (this.name.length >= 5) {\n      amount = REGISTRATION_PRICE.CHAR_5_AMOUNT * period;\n    }\n    return amount;\n  }\n\n  async prepareNameRegistrationTransactions(address: string, period: number): Promise<RegistrationTxns> {\n    const algodClient = this.rpc;\n    /* 1st Txn - Payment to Smart Contract */\n\n    let amount = 0;\n    const lsig = await this.getTeal(this.name);\n    const params = await algodClient.getTransactionParams().do();\n\n    params.fee = 1000;\n    params.flatFee = true;\n\n    let receiver = algosdk.getApplicationAddress(APP_ID);\n    let sender = address;\n\n    if (period === undefined) {\n      period = 1;\n    }\n\n    amount = this.calculatePrice(period);\n\n    const closeToRemaninder = undefined;\n    const note = undefined;\n\n    const txn1 = algosdk.makePaymentTxnWithSuggestedParams(\n      sender,\n      receiver,\n      amount,\n      closeToRemaninder,\n      note,\n      params\n    );\n\n    const groupTxns = [];\n    groupTxns.push(txn1);\n\n    /* 2nd Txn - Funding Lsig */\n\n    sender = address;\n    receiver = lsig.address();\n    amount = 915000;\n\n    const txn2 = algosdk.makePaymentTxnWithSuggestedParams(\n      sender,\n      receiver,\n      amount,\n      closeToRemaninder,\n      note,\n      params\n    );\n\n    groupTxns.push(txn2);\n\n    /* 3rd Txn - Optin to App from Lsig */\n\n    const txn3 = await algosdk.makeApplicationOptInTxnFromObject({\n      from: lsig.address(),\n      suggestedParams: params,\n      appIndex: APP_ID,\n    });\n\n    groupTxns.push(txn3);\n\n    /* 4th Txn - Account registers name */\n\n    const method = \"register_name\";\n\n    const appArgs = [];\n\n    period++;\n\n    appArgs.push(toIntArray(method));\n    appArgs.push(toIntArray(this.name));\n    appArgs.push(algosdk.encodeUint64(period));\n    const txn4 = await algosdk.makeApplicationNoOpTxn(\n      address,\n      params,\n      APP_ID,\n      appArgs,\n      [lsig.address()]\n    );\n    groupTxns.push(txn4);\n\n    algosdk.assignGroupID(groupTxns);\n\n    const signedOptinTxn = algosdk.signLogicSigTransaction(groupTxns[2], lsig);\n\n    return {\n      optinTxn: signedOptinTxn,\n      txns: groupTxns,\n      unsignedOptinTxn: groupTxns[2],\n    };\n  }\n\n  async prepareUpdateNamePropertyTransactions(\n    address: string,\n    editedHandles: Record\n  ): Promise<Transaction[]> {\n    const lsig = await this.getTeal(this.name);\n    const params = await this.rpc.getTransactionParams().do();\n    params.fee = 1000;\n    params.flatFee = true;\n\n    const method = \"update_name\";\n\n    const groupTxns = [];\n\n    for (const key in editedHandles) {\n      const appArgs = [];\n      const network = key;\n      const handle: string = editedHandles[key as keyof Record];\n\n      appArgs.push(toIntArray(method));\n      appArgs.push(toIntArray(network as string));\n      appArgs.push(toIntArray(handle as string));\n\n      const txn = await algosdk.makeApplicationNoOpTxn(\n        address,\n        params,\n        APP_ID,\n        appArgs,\n        [lsig.address()]\n      );\n      groupTxns.push(txn);\n    }\n\n    if (Object.keys(editedHandles).length > 1) {\n      algosdk.assignGroupID(groupTxns);\n    }\n\n    return groupTxns;\n  }\n\n  async prepareNameRenewalTxns(sender: string, years: number): Promise<Transaction[]> {\n    const params = await this.rpc.getTransactionParams().do();\n    const receiver = algosdk.getApplicationAddress(APP_ID);\n    const closeToRemaninder = undefined;\n    const note = undefined;\n    const paymentTxn = algosdk.makePaymentTxnWithSuggestedParams(\n      sender,\n      receiver,\n      this.calculatePrice(years),\n      closeToRemaninder,\n      note,\n      params\n    );\n\n    const lsig = await this.getTeal(this.name);\n\n    const appArgs = [];\n    appArgs.push(toIntArray(\"renew_name\"));\n    appArgs.push(algosdk.encodeUint64(years));\n\n    const applicationTxn = algosdk.makeApplicationNoOpTxn(\n      sender,\n      params,\n      APP_ID,\n      appArgs,\n      [lsig.address()]\n    );\n\n    algosdk.assignGroupID([paymentTxn, applicationTxn]);\n\n    return [paymentTxn, applicationTxn];\n  }\n\n  async prepareInitiateNameTransferTransaction(\n    sender: string,\n    newOwner: string,\n    price: number\n  ) : Promise<Transaction> {\n    price = algosdk.algosToMicroalgos(price);\n    const params = await this.rpc.getTransactionParams().do();\n\n    const lsig = await this.getTeal(this.name);\n\n    const appArgs = [];\n    appArgs.push(toIntArray(\"initiate_transfer\"));\n    appArgs.push(algosdk.encodeUint64(price));\n\n    return algosdk.makeApplicationNoOpTxn(sender, params, APP_ID, appArgs, [\n      lsig.address(),\n      newOwner,\n    ]);\n  }\n\n  async prepareAcceptNameTransferTransactions(\n    sender: string,\n    receiver: string,\n    amt: number\n  ) : Promise<Transaction[]>{\n    amt = algosdk.algosToMicroalgos(amt);\n    const params = await this.rpc.getTransactionParams().do();\n\n    const closeToRemaninder = undefined;\n    const note = undefined;\n    const paymentToOwnerTxn = algosdk.makePaymentTxnWithSuggestedParams(\n      sender,\n      receiver,\n      amt,\n      closeToRemaninder,\n      note,\n      params\n    );\n\n    receiver = algosdk.getApplicationAddress(APP_ID);\n\n    const paymentToSmartContractTxn = algosdk.makePaymentTxnWithSuggestedParams(\n      sender,\n      receiver,\n      TRANSFER_FEE,\n      closeToRemaninder,\n      note,\n      params\n    );\n    const lsig = await this.getTeal(this.name);\n\n    const appArgs = [];\n    appArgs.push(toIntArray(\"accept_transfer\"));\n\n    const applicationTxn = algosdk.makeApplicationNoOpTxn(\n      sender,\n      params,\n      APP_ID,\n      appArgs,\n      [lsig.address()]\n    );\n\n    algosdk.assignGroupID([\n      paymentToOwnerTxn,\n      paymentToSmartContractTxn,\n      applicationTxn,\n    ]);\n\n    return [paymentToOwnerTxn, paymentToSmartContractTxn, applicationTxn];\n  }\n}\n"],"mappings":"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","names":[]}